<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>Сочетания с повторениями</title>
    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/brython@3.11/brython.min.js">
    </script>
    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/brython@3.11/brython_stdlib.js">
    </script>
    <link rel="stylesheet" href="styleFont.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
</head>
<body onload="brython();">
    <div class="col-margin">
        <h1>Нахождение числа сочетаний из n по k с повторениями</h1>
            <div>
                <p>
                Сочетания с повторениями — те же сочетания, только теперь даны n
                типов элементов, из которых нужно выбрать k
                элементов, причем элементов каждого типа неограниченное количество, 
                и элементы одного типа должны стоять подряд друг за другом.
                </p>
                <p>Введите числа n и k (Условие: n > 0, n &ge; k):</p>
                <p>k:</p>
                <input id="valueK" type="number" name="k" value="0" size="10">
                <p>n:</p>
                <input id="valueN" type="number" name="n" value="0" size="10">  
                <br>
                <p id="placements" class="latex">
                   <i><i class="macr">С</i><span class="supsub"><sup>k</sup><sub>n</sub></span> = ?</i>
                </p>
                <br>
                <button id="calc">Найти число сочетаний с повторениями</button>
            </div><br><br><br>
            <a href="index.html">Вернуться на главную</a>
</body>

<script type="text/python">
    from browser import document
    from math import factorial
    from decimal import *
    import sys
    sys.set_int_max_str_digits(0)

    def click(ev):
        try:
            valueK = int(document.getElementById("valueK").value)
            valueN = int(document.getElementById("valueN").value)
            if valueK > valueN:
                document.getElementById("placements").innerHTML = "k должно быть не больше n, быстро ввёл по-нормальному"
            elif valueN <= 0 or valueK <= 0:
                document.getElementById("placements").innerHTML = "Введите натуральные числа"
            else:
                factK = Decimal(factorial(valueK))
                factNK1 = Decimal(factorial(valueN + valueK - 1))
                factN1 = Decimal(factorial(valueN - 1))
                document.getElementById("placements").innerHTML = "<i><i class=\"macr\">С</i><span class=\"supsub\"><sup>" + str(valueK) + "</sup><sub>" + str(valueN) +"</sub></span> = " + str(factNK1/factK/factN1)+"</i>"
        except ValueError:
            document.getElementById("placements").innerHTML = "Введите натуральные числа"
    
    document["calc"].bind("click", click)
</script>